{% extends "base.html" %}

{% load static %}

{% block title %}Resume Analysis{% endblock %}

{% block content %}
    <h1>Resume Analysis</h1>

    <!-- Job Selection -->
    <div class="form-group">
        <label for="job-description">Select Job Description</label>
        <select id="job-description" name="job_description">
            <!-- Job descriptions will be populated here -->
        </select>
    </div>

    <!-- Resume Upload -->
    <div class="form-group">
        {% csrf_token %}
        <label for="resume-upload">Upload Resume</label>
        <input type="file" id="resume-upload" name="resume" accept=".pdf" />
    </div>

    <!-- Submit Button -->
    <button id="submit-btn">
        Submit Resume
        <span id="submit-loader" class="loader" style="display: none;"></span>
    </button>

    <!-- Loader -->
    <div id="loader" class="loader" style="display: none;">
        <div class="spinner"></div>
        <p>Analyzing Resume...</p>
    </div>

    <!-- Results -->
    <div id="result" class="result" style="display: none;">
        <h2>Analysis Result</h2>

        <p><strong>Rank:</strong> <span id="rank"></span></p>
        <p><strong>Total Experience:</strong> <span id="total_experience"></span> years</p>

        <div>
            <strong>Core Skills:</strong>
            <ul id="core-skills-list"></ul>
        </div>

        <div>
            <strong>Additional Skills:</strong>
            <ul id="additional-skills-list"></ul>
        </div>

        <div>
            <strong>Project Classifications:</strong>
            <ul id="project-category-list"></ul>
        </div>

        <div>
            <strong>Education:</strong>
            <ul id="education-list"></ul>
        </div>

        <div>
            <strong>Missing Skills:</strong>
            <ul id="missing-skills-list"></ul>
        </div>

        <div>
            <strong>Experience Gaps:</strong>
            <ul id="experience-gaps-list"></ul>
        </div>
    </div>
{% endblock %}
